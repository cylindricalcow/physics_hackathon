<CustLabel@Label>:
    color: 0, 0, 0, 1

<LoginScreen>:
    RelativeLayout:
        pos: 0,0
        canvas.before:
            BorderImage:
                source: 'Images/Backgrounds/Character Background.png'
                pos: self.x,self.y
                size: self.width, self.height
        TextInput:
            pos: (root.width*.25, root.height*.2)
            size_hint: .3,.05
            id: my_user_input
            text: ""
        Label:
            id: my_output
            pos: (root.width*.25, root.height*.05)
            size_hint: .5,.2
            text: my_user_input.text
        Button:
            text: 'Character Page'
            pos: (root.width*0.8, root.y)
            size_hint: .2,.1
            on_press: 
                root.manager.current = 'main'
                root.manager.transition.direction = 'left'
        Label:
            text: "Welcome to your Dreamscape:"
            pos: (root.width*.25, root.height*.35)
            size_hint: .5,.8
        Label:
            text: "Drogens and Dungoons"
            pos: (root.width*.25, root.height*.25)
            size_hint: .5,.8
    GridLayout:
        orientation: "horizontal"
        rows:1
        cols:3
        size_hint: .3,.1
        pos: (root.width*.35,root.height*.5)
        Spinner:
            text: 'Name'
            values: ["Majones", "Cryan Blark", "Sexlando", "Bobert"]
            id: spinner_id1
            on_text: root.spinner_clicked(spinner_id1.text)
        Spinner:
            text: 'Class'
            values: ["cleric", "wizard", "rogue", "fighter"]
            id: spinner_id2
            on_text: root.spinner_clicked(spinner_id2.text)
        Spinner:
            text: 'Race'
            values: ["Dwarf", "Elf", "Halfing", "Human"]
            id: spinner_id3
            on_text: root.spinner_clicked(spinner_id3.text)
    GridLayout:
        RelativeLayout:
            orientation: "horizontal"
            pos: root.width*.1, root.height*.3
            size_hint: .4, 0.2
            CustLabel:
                text: str(slider_id.value)
            Slider:
                id: slider_id
                min: 0
                max: 30
                value: 0
                step: 1


<MainScreen>:
    RelativeLayout:
        pos: 0,0
        canvas.before:
            BorderImage:
                source: 'Images/Backgrounds/Church.png'
                pos: self.x,self.y
                size: self.width, self.height
        Image:
            source: "Images/Characters/Dwarf Cleric.png"
            pos: (root.width*.4, root.height*.45)
            size_hint: .2, .6
        Button:
            text: 'Inventory'
            pos: (root.width*0.8, root.y)
            size_hint: .2,.1
            on_press: 
                root.manager.current = 'second'
                root.manager.transition.direction = 'left'
        Button:
            text: 'Map'
            pos: (root.x, root.y)
            size_hint: .2,.1
            on_press: 
                root.manager.current = 'third'
                root.manager.transition.direction = 'right'
        RelativeLayout:
            orientation: "horizontal"
            pos: (root.width*.4, root.height*.36)
            size_hint: .2,.1
            # When clicked the popup opens
            Button:
                text: "Stats"
                on_press: root.open_popup()
    RelativeLayout:
        Label:
            text: "HP: 10"
            pos: (root.width*(.4-.2), root.height*.44)
            size_hint: .2,.1
        Label:
            text: "AC: 10"
            pos: (root.width*.4, root.height*.44)
            size_hint: .2,.1
        Label:
            text: "SP: 10"
            pos: (root.width*(.4+0.2), root.height*.44)
            size_hint: .2,.1
        Label:
            text: "Race: Human   /  Name: Merissa Jones   /   Level: 10   /   Class: Fighter"
            pos: (root.width*.1, root.height*.5)
            size_hint: .8,.05
        Label:
            text: "This is going to be a description of the fighter"
            pos: (root.width*.1, root.height*.25)
            size_hint: .8,.05

<SecondScreen>:
    RelativeLayout:
        pos: 0,0
        canvas.before:
            BorderImage:
                source: 'Images/Backgrounds/Blacksmith Shop.png'
                pos: self.x,self.y
                size: self.width, self.height
        Button:
            text: 'Character Stats'
            pos: (root.x, root.y)
            size_hint: .2,.1
            on_press: 
                root.manager.current = 'main'
                root.manager.transition.direction = 'right'
        Spinner:
            text: 'Weapons'
            pos: (root.width*.25,root.height*.8)
            size_hint: 0.5,.1
            values: ["Weapon 1", "Weapon 2", "Weapon 3"]
            id: spinner_id1
            on_text: root.spinner_clicked(spinner_id1.text)
        Spinner:
            text: 'Armor'
            pos: (root.width*.25,root.height*.4)
            size_hint: 0.5,.1
            values: ["Armor 1", "Armor 2", "Armor 3"]
            id: spinner_id2
            on_text: root.spinner_clicked(spinner_id2.text)

<ThirdScreen>:
    RelativeLayout:
        pos: 0,0
        canvas.before:
            BorderImage:
                source: 'Images/Backgrounds/Map Background.png'
                pos: self.x,self.y
                size: self.width, self.height
        Button:
            text: 'Character Stats'
            pos: (root.width*0.8, root.y)
            size_hint: .2,.1
            on_press: 
                root.manager.current = 'main'
                root.manager.transition.direction = 'left'
        Painter:
            pos: (root.width*0.8, root.height/2)
    GridLayout:
        orientation: "horizontal"
        rows:4
        cols:1
        size_hint: .5,.4
        Button:
            text: "Action"
            on_press: root.open_popup()
        Button:
            text: "Bonus"
            on_press: root.open_popup()
        Button:
            text: "Move"
            on_press: root.open_popup()
        Button:
            text: "Inventory"
            on_press: root.open_popup()

<CustomPopup>:
    title: "Stats"
    size_hint: .5, .5
    auto_dismiss: False
    GridLayout:
        cols: 3
        rows: 3
        pos: root.x, root.height
        Label:
            text: "STR: 10"
        Label:
            text: "DEX: 10"
        Label:
            text: "CON: 10"
        Label:
            text: "INT: 10"
        Label:
            text: "WIS: 10"
        Label:
            text: "CHA: 10"
        Label:
            size_hint:.2,.2
        Button:
            size_hint:.2,.2
            text: "Close"
            on_press: root.dismiss()
        Label:
            size_hint:.2,.2

<ActionPopup>:
    title: "Action"
    size_hint: .5, .5
    auto_dismiss: False
    GridLayout:
        cols: 3
        rows: 3
        pos: root.x, root.height
        Label:
            text: "STR: 10"
        Label:
            text: "DEX: 10"
        Label:
            text: "CON: 10"
        Label:
            text: "INT: 10"
        Label:
            text: "WIS: 10"
        Label:
            text: "CHA: 10"
        Label:
            size_hint:.2,.2
        Button:
            size_hint:.2,.2
            text: "Close"
            on_press: root.dismiss()
        Label:
            size_hint:.2,.2